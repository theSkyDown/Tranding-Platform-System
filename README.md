# 二手交易平台

## 功能列表

- 用户管理
  - 用户登陆`[完成]`
  - 个人中心`(信息查看、密码修改)[完成]`
  - 用户注销`[未完成，感觉应该是管理员来进行删除]`
- 权限管理
  - 权限组管理`[完成]`
  - 权限设置`[完成]`
- 日志管理
  - 一般信息、错误信息`[完成]`
  - 日志导出`[完成，但导出的是.log的文件]`

- 商品管理
  - 商品分类`[完成，写到一般才记想起来是二级分类，不想改数据库了]`
  - 商品增删改查`[完成]`
- 交易平台
  - 商品的发布`[完成]`
  - 商品查找`[完成]`
  - 商品的购买`[完成]`
- 评价系统
  - 对订单的评价`[完成]`
  - 商品类别、交易量、相关评价信息`Echarts`图`[完成]`

## 一些说明

> 技术：
>
> - 前端：`vue3 + element-plus`
> - 后端：`springboot`
> - 数据库：`MyBatis`

`git`提交记录`(真是自己一步一步写的)`

![image-20230527233500811](img/image-20230527233500811.png)

![image-20230527235643765](img/image-20230527235643765.png)

## 功能展示

### 用户管理 *

- 用户未登陆时，访问资源，弹窗信息提醒用户登陆

![image-20230527213719396](img/image-20230527213644502.png)

- 用户登陆，支持验证码登陆，防止暴力尝试破解密码

![image-20230527213644501](img/image-20230527213644501.png)

- 登陆成功后，可以看到用户的基本信息`(平均评分、评分的统计、商品种类和今年一年的销售额)`

![image-20230527213958731](img/image-20230527213958731.png)

![image-20230527214130422](img/image-20230527214130422.png)

- 用户修改密码功能

![image-20230527215044565](img/image-20230527215044565.png)

- 获取所有用户的信息（分页、关键字查询）

![image-20230527215225500](img/image-20230527215225500.png)

![image-20230527215324296](img/image-20230527215324296.png)

- 提交用户的功能

![image-20230527215447123](img/image-20230527215447123.png)

![image-20230527215638755](img/image-20230527215638755.png)

- 用户的删除功能、批量删除功能`(提示用户，防止用户误触删除)`

![image-20230527215725416](img/image-20230527215725416.png)

- 修改用户的信息`(一些基础信息的修改，和头像的修改)`

![image-20230527220216798](img/image-20230527220216798.png)

如果手机号已被设置过会提醒用户

![image-20230527220307293](img/image-20230527220307293.png)

修改完成

![image-20230527220358835](img/image-20230527220358835.png)

- 为管理员提供的密码重置功能，用户忘记密码可以让管理员重置密码`(重置后的密码为 123)`

![image-20230527220729772](img/image-20230527220729772.png)

![image-20230527220631642](img/image-20230527220631642.png)

![image-20230527220806966](img/image-20230527220806966.png)

- 修改用户的状态`(管理员可以禁用不正常用户)`

![image-20230527221117020](img/image-20230527221117020.png)

![image-20230527221144757](img/image-20230527221144757.png)

- 用户的总体评分信息（根据所有卖出的订单给出的评价取平均），注：后边订单管理有详细说明

![image-20230527221428997](img/image-20230527221428997.png)

- 出售商品分类的饼图（可以看到该用户出售的商品类型占的比值）

![image-20230527221807288](img/image-20230527221807288.png)

- 可以获取到**今年**每个月的销售额

![image-20230527221940848](img/image-20230527221940848.png)

一些说明

`admin`用户无法进行一些操作，如删除，修改，状态的改变...

![image-20230527222154031](img/image-20230527222154031.png)

图片的上传用的七牛云

![image-20230527222338163](img/image-20230527222338163.png)

### 角色管理

- 角色定义是为了方便用户执行操作时进行权限的拦截，管理员可以对定义的角色进行增删改查操作，其中的逻辑实现和用户基本相似

![image-20230527222636016](img/image-20230527222636016.png)

- 前三个属于基础用户，支撑整个系统基础的运行，所以不支持删除

![image-20230527222749622](img/image-20230527222749622.png)

- 在修改用户信息时，可以给用户分配角色

![image-20230527224003595](img/image-20230527224003595.png)

### 资源管理

- 将每个接口定义为资源，便于后续对权限的管理，这个资源管理员可以对其进行增删改操作，如果基于本系统在开发，可以便于后续的开发，具体说明在权限管理中说明。其中增删改查的逻辑实现也是和用户管理中的相似

![image-20230527223242124](img/image-20230527223242124.png)

**注：本系统的所有功能（接口）都可以在资源管理中查看**

### 权限管理 *

- 权限管理主要是用拦截器来实现的，用户每次进行操作时，都会对权限的表进行查询，判断用户当前的角色是否有权限使用资源，如果是`admin`则直接通过

![image-20230527224530777](img/image-20230527224530777.png)

- 如果没有权限访问，会提醒用户

![image-20230527224756119](img/image-20230527224756119.png)

- 如果给某个角色删除、修改用户状态的权限，重置密码的权限...，该用户也无法对权限等级比自己高或者相等的用户进行操作

![image-20230527225009920](img/image-20230527225009920.png)

![image-20230527225037558](img/image-20230527225037558.png)

- 但是还是能对权限等级的角色用户进行操作

![image-20230527225453584](img/image-20230527225453584.png)

### 商品信息管理

- 提供给管理员便于对商品的管理，对于商品描述信息过长的，为了防止对表格的格式的破坏，对超出信息进行了处理。在该页面还能看到商品的出售状态。对于商品管理的增删改查，实现的逻辑与用户管理的相似

![image-20230527231953240](img/image-20230527231953240.png)

- 在系统中的所有图片都可以放大进行查看

![image-20230527232126253](img/image-20230527232126253.png)

### 分类管理

- 可以对商品的分类进行管理，是用于给商品的分类时所拥有的选项信息，管理员可以对商品的分类信息进行管理，增删改查的逻辑实现和用户的类似

![image-20230527235431040](img/image-20230527235431040.png)

### 订单管理

- 可以看到所有的订单信息，以及订单是否完成，和购买者对此次购买的评价

![image-20230527235922254](img/image-20230527235922254.png)

- 可以查看该商品的详细信息和出售者的信息

![image-20230528000001556](img/image-20230528000001556.png)

![image-20230528000014317](img/image-20230528000014317.png)

### 交易平台 *

#### 商品购买

- 这里可以看到正在售卖的商品，也可以发布自己的商品和购买他人的商品

![image-20230528000609348](img/image-20230528000609348.png)

- 购买后的商品，会生成对应的订单，可以到我的订单中查看

![image-20230528000701360](img/image-20230528000701360.png)

但是无法购买自己发布的商品

![image-20230528001024907](img/image-20230528001024907.png)

- 也可以发布商品

![image-20230528000918979](img/image-20230528000918979.png)

![image-20230528000943612](img/image-20230528000943612.png)

#### 我的订单

- 在这里可以看到该用户购买的所有商品所生成的订单，可以取消订单，商品就会回到“商品购买”列表中，其他用户可以购买。用户完成交易后可以点击完成订单，然后对订单进行评分，对于完成后的订单是无法进行“取消操作”的，这个在前后端都有进行拦截的。

![image-20230528001430317](img/image-20230528001430317.png)

![image-20230528002008411](img/image-20230528002008411.png)

完成订单后按钮会被禁用，无法点击，如果直接发请求也不行，也是无法取消的

- 该评价会对出售该商品的用户的评分进行影响

![image-20230528002046734](img/image-20230528002046734.png)

- 也可以在订单中查看商品的详细信息、和用户的详细信息

![image-20230528002132270](img/image-20230528002132270.png)

![image-20230528002143010](img/image-20230528002143010.png)

#### 我的售出

- 这里可以看到自己出售商品的信息以及状态，用户可以修改自己商品的信息，以及让自己的商品下架，但是如果商品已经被售出是无法下架的

![image-20230528002324831](img/image-20230528002324831.png)

![image-20230528002347351](img/image-20230528002347351.png)

修改商品的信息

![image-20230528002432932](img/image-20230528002432932.png)

![image-20230528002447996](img/image-20230528002447996.png)

### 日志导出

![image-20230528002523238](img/image-20230528002523238.png)
